<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conquistas - VeloAcademy</title>
    <script>
        // Bloquear acesso imediatamente se não for Lucas Gravina
        (function() {
            try {
                const sessionData = localStorage.getItem('veloacademy_user_session');
                if (sessionData) {
                    const session = JSON.parse(sessionData);
                    if (session && session.user) {
                        const userData = session.user;
                        // APENAS lucas.gravina@velotax.com.br tem acesso
                        const isLucasGravina = userData.email === 'lucas.gravina@velotax.com.br';
                        if (!isLucasGravina) {
                            window.location.href = './index.html';
                        }
                    } else {
                        window.location.href = './index.html';
                    }
                } else {
                    window.location.href = './index.html';
                }
            } catch (error) {
                console.error('Erro ao verificar acesso:', error);
                window.location.href = './index.html';
            }
        })();
    </script>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Anton&display=swap">
    <link rel="icon" type="image/png" href="./academy.png">
</head>
<body>

    <header>
        <div class="container header-container">
            <div class="logo" id="logo-container">
                <img id="logo-image" class="logo-image" src="./academy.png" alt="VeloAcademy Logo">
            </div>
            
            <nav class="nav-menu">
                <a href="./index.html" class="nav-link">Home</a>
                <a href="./cursos.html" class="nav-link">Cursos</a>
                <a href="./conquistas.html" id="nav-conquistas" class="nav-link active">Conquistas</a>
                <a href="#" id="nav-feedback" class="nav-link disabled" style="opacity: 0.5; cursor: not-allowed;">Feedback</a>
                <a href="https://app.velohub.velotax.com.br" class="nav-link" target="_blank">VeloHub</a>
            </nav>

            <div class="user-info" id="user-info">
                <img id="user-avatar" class="user-avatar" src="" alt="Avatar" style="display: none;">
                <span id="user-name" class="user-name"></span>
                <button id="logout-btn" class="logout-btn" title="Logout">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
            
            <div class="theme-switch-wrapper" id="theme-toggle">
                <span class="theme-icon">☀️</span>
            </div>
        </div>
    </header>

    <main>
        <div class="container main-container">
            <!-- Painel de Medalhas -->
            <div class="medalhas-container">
                <h2 class="medalhas-titulo">Painel de Medalhas</h2>
                
                <!-- Grid de Medalhas -->
                <div class="medalhas-grid">
                    <div class="medalha-item unlocked">
                        <div class="medalha-icon">
                            <i class="fas fa-medal"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Primeira Conquista</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-award"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Mestre dos Quiz</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-star"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Estrela Brilhante</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-crown"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Rei da Velocidade</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-fire"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Chama Eterna</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-gem"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Diamante Precioso</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-heart"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Coração de Ouro</span>
                    </div>
                    
                    <div class="medalha-item locked">
                        <div class="medalha-icon">
                            <i class="fas fa-trophy"></i>
                            <div class="medalha-fita"></div>
                        </div>
                        <span class="medalha-nome">Troféu Máximo</span>
                    </div>
                </div>
            </div>

            <!-- Painel de Certificados -->
            <div class="certificados-container">
                <h2 class="certificados-titulo">Meus Certificados</h2>
                
                <!-- Grid de Certificados -->
                <div class="certificados-grid">
                    <div class="certificado-item unlocked">
                        <div class="certificado-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <span class="certificado-nome">Seja Bem Vindo</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <span class="certificado-nome">Crédito do Trabalhador</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <span class="certificado-nome">Chaves PIX</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <span class="certificado-nome">Antecipação da Restituição</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <span class="certificado-nome">Crédito Pessoal</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <span class="certificado-nome">Segurança da Informação</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <span class="certificado-nome">Comunicação Empática</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-volume-up"></i>
                        </div>
                        <span class="certificado-nome">Linguagem Positiva</span>
                    </div>
                    
                    <div class="certificado-item locked">
                        <div class="certificado-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <span class="certificado-nome">Resolução de Conflitos</span>
                    </div>
                </div>
            </div>

            <!-- Atividades Recentes -->
            <section class="activity-section">
                <h2>Atividades Recentes</h2>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="activity-content">
                            <h4>Antecipação de Restituição</h4>
                            <p>Curso concluído com sucesso</p>
                            <span class="activity-time">Há 2 horas</span>
                        </div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="activity-content">
                            <h4>Reciclagem de Telefonia</h4>
                            <p>Curso concluído com sucesso</p>
                            <span class="activity-time">Ontem</span>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <script src="./js/auth.js" defer></script>
    <script src="./js/veloacademy.js"></script>
    <script src="./js/theme-toggle.js"></script>
    <script>
        // Verificar acesso à página de conquistas imediatamente
        (function() {
            function verifyAccess() {
                // Aguardar auth.js carregar
                if (typeof window.isLucasGravinaUser === 'function') {
                    const isLucasGravina = window.isLucasGravinaUser();
                    if (!isLucasGravina) {
                        console.log('Acesso negado à página de Conquistas. Redirecionando...');
                        window.location.href = './index.html';
                    }
                } else {
                    // Tentar novamente após um pequeno delay
                    setTimeout(verifyAccess, 100);
                }
            }
            
            // Executar verificação quando DOM estiver pronto
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', verifyAccess);
            } else {
                verifyAccess();
            }
        })();
    </script>
</body>
</html>
