2. Fluxo de autenticação
2.1 Login por email/senha
// Endpoint: POST /api/auth/login// Body: { email, password }
Processo:
Usuário preenche email e senha
Frontend envia POST para ${API_BASE_URL}/auth/login
Backend valida:
Usuário existe em qualidade_funcionarios (campo userMail)
acessos.Academy === true
Senha correta (hash bcrypt) - se senha não foi ainda definida o padrão será nome.sobrenomeCPF (ex: joao.silva12345678901) levando em conta que o sobrenome é o último em caso de nome mais longo (João Almeida Santos Silva, considerar joao.silva)

Se válido:
Retorna userData (name, email, picture)
Registra sessão no MongoDB (academy_registros.sessions)
Retorna sessionId

Frontend:
Salva sessão no localStorage (academy_user_session)
Salva sessionId (academy_session_id)
Chama onLoginSuccess(userData)

2.2 Login via Google SSO
Processo:
Carrega Google Identity Services (https://accounts.google.com/gsi/client)
Inicializa com Client ID do Google
Renderiza botão do Google
Ao clicar:
Google retorna JWT (response.credential)
Decodifica JWT para obter dados do usuário
Envia email + picture para /api/auth/validate-access
Backend valida:
Usuário existe em qualidade_funcionarios
acessos.Velohub === true
Sincroniza avatar do Google se necessário
Se válido:
Retorna userData do MongoDB (prioriza nome do MongoDB)
Frontend salva sessão 

// Gerenciamento de sessão
saveUserSession(userData)      // Salva no localStorage
getUserSession()               // Recupera do localStorage
isSessionValid()               // Verifica se sessão não expirou (4h)
logout()                       // Limpa sessão e registra logout

// Autenticação
checkAuthenticationState()    // Verifica e reativa sessão se necessário
registerLoginSession()        // Registra login no backend
registerLogoutSession()       // Registra logout no backend


// Google OAuth
decodeJWT(token)              // Decodifica JWT do Google
initializeGoogleSignIn()      // Inicializa Google Identity Services

POST /api/auth/login
Valida email/senha
Verifica acesso ao academy
Retorna userData e sessionId
Registra login em academy_registros.sessions
4.2 POST /api/auth/validate-access
Valida acesso para Google SSO
Busca usuário em qualidade_funcionarios
Sincroniza avatar do Google se necessário
Retorna userData do MongoDB

POST /api/auth/session/login
Registra login no sistema de sessões
Retorna sessionId
Inicia controle de sessão
4.4 POST /api/auth/session/logout
Registra logout
Calcula duração da sessão

Estrutura do MongoDB
Collection: console_analises.qualidade_funcionarios

 Segurança
Senhas: hash bcrypt no backend
Sessões: expiração de 4 horas
Heartbeat: mantém sessão ativa e detecta expiração
Validação dupla: frontend (UX) + backend (segurança)
Rate limiting: tentativas de senha incorreta (5 tentativas a cada 5 minutos)

Dependências e bibliotecas
React: componentes e hooks
Google Identity Services: OAuth 2.0
localStorage: persistência de sessão
fetch API: requisições HTTP
bcrypt: hash de senhas (backend)

[ ] Criar componente LoginPage.js com os dois métodos de login
[ ] Criar serviço auth.js com todas as funções de sessão
[ ] Configurar Google OAuth no Google Cloud Console
[ ] Criar arquivos de configuração (google-config.js, api-config.js)
[ ] Implementar endpoints no backend:
/api/auth/login
/api/auth/validate-access
/api/auth/session/login
/api/auth/session/logout
Criar collection MongoDB academy_registros.sessions para controle de sessões
[ ] Integrar com componente principal do app
[ ] Testar fluxo completo de login/logout

